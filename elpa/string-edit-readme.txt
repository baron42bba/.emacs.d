Avoid escape nightmares by editing string in separate buffer
